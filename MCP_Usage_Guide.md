# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é MCP Webscraping –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∏–≤–∞–Ω–æ–≤

## üìã –ß—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å

### ‚úÖ **–ì–æ—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
1. **`divan_scraper_mcp_working.py`** - –†–∞–±–æ—á–∏–π –ø–∞—Ä—Å–µ—Ä —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
2. **`MCP_Webscraping_Setup.md`** - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ MCP
3. **`requirements_mcp.txt`** - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è Python

### üîß **MCP Webscraping —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ Cursor –∏ –∑–∞–ø—É—â–µ–Ω –≤ Docker**

## üéØ **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å MCP Webscraping –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞**

### **1. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
```python
# –í Cursor –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É:
mcp_webscraping-ai_webscraping_ai_text(
    url='https://www.divan.ru/blagoveshchensk/category/divany',
    text_format='plain',
    return_links=True
)
```

### **2. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø–æ–ª–µ–π**
```python
# –î–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π –∏ —Ü–µ–Ω:
mcp_webscraping-ai_webscraping_ai_fields(
    url='https://www.divan.ru/blagoveshchensk/category/divany',
    fields={
        'product_name': '–ù–∞–∑–≤–∞–Ω–∏–µ –¥–∏–≤–∞–Ω–∞',
        'price': '–¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –≤ —Ä—É–±–ª—è—Ö',
        'old_price': '–°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞ –≤ —Ä—É–±–ª—è—Ö',
        'discount': '–ü—Ä–æ—Ü–µ–Ω—Ç —Å–∫–∏–¥–∫–∏'
    }
)
```

### **3. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ HTML –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞**
```python
# –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è HTML —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
mcp_webscraping-ai_webscraping_ai_html(
    url='https://www.divan.ru/blagoveshchensk/category/divany',
    format='text'
)
```

## üõ†Ô∏è **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–∞—Ä—Å–µ—Ä–æ–º**

### **–®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ MCP**
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª—é–±—É—é –∏–∑ –∫–æ–º–∞–Ω–¥ –≤—ã—à–µ –≤ Cursor –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å —Å–∞–π—Ç–∞.

### **–®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç–µ –ø–∞—Ä—Å–µ—Ä**
–ó–∞–º–µ–Ω–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ `divan_scraper_mcp_working.py` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ MCP:

```python
def run_scraping(self):
    # –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ MCP webscraping
    mcp_data = self.get_mcp_data()  # –ó–¥–µ—Å—å –±—É–¥–µ—Ç –≤—ã–∑–æ–≤ MCP
    
    # –ü–∞—Ä—Å–∏–º –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    products = self.parse_product_data(mcp_data)
    
    # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –±–∞–∑—É
    saved_count = self.save_to_database(products)
    
    if saved_count > 0:
        self.export_to_csv()
```

### **–®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–∞—Ä—Å–µ—Ä**
```bash
python divan_scraper_mcp_working.py
```

## üìä **–ß—Ç–æ –ø–∞—Ä—Å–µ—Ä –∏–∑–≤–ª–µ–∫–∞–µ—Ç**

### **–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è:**
- **–ù–∞–∑–≤–∞–Ω–∏–µ –¥–∏–≤–∞–Ω–∞** - –ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏
- **–¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞** - —Ü–µ–Ω–∞ —Å–æ —Å–∫–∏–¥–∫–æ–π
- **–°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞** - —Ü–µ–Ω–∞ –¥–æ —Å–∫–∏–¥–∫–∏
- **–ü—Ä–æ—Ü–µ–Ω—Ç —Å–∫–∏–¥–∫–∏** - —Ä–∞–∑–º–µ—Ä —Å–∫–∏–¥–∫–∏
- **–†–∞–∑–º–µ—Ä—ã** - –≥–∞–±–∞—Ä–∏—Ç—ã –¥–∏–≤–∞–Ω–∞ (–î—Ö–®—Ö–í)
- **–°–ø–∞–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ** - —Ä–∞–∑–º–µ—Ä—ã –≤ —Ä–∞–∑–ª–æ–∂–µ–Ω–Ω–æ–º –≤–∏–¥–µ
- **URL –ø—Ä–æ–¥—É–∫—Ç–∞** - —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–æ–≤–∞—Ä–∞

### **–ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö:**
```
‚úÖ –ù–∞–π–¥–µ–Ω –¥–∏–≤–∞–Ω: –î–∏–≤–∞–Ω –ø—Ä—è–º–æ–π –§–∏–ª—Å-–ú–∏–Ω–∏ 120 Velvet Terra... - 41150‚ÇΩ
‚úÖ –ù–∞–π–¥–µ–Ω –¥–∏–≤–∞–Ω: –î–∏–≤–∞–Ω –ø—Ä—è–º–æ–π –ú–µ–ª–æ—É Velvet Eclipse... - 80840‚ÇΩ
```

## üîç **–û—Ç–ª–∞–¥–∫–∞ –∏ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º**

### **–ü—Ä–æ–±–ª–µ–º–∞: MCP –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker ps | grep webscraping

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
docker restart <container_id>
```

### **–ü—Ä–æ–±–ª–µ–º–∞: –î–∞–Ω–Ω—ã–µ –Ω–µ –ø–∞—Ä—Å—è—Ç—Å—è**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
2. –ê–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤ `parse_product_data()`
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `print()` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### **–ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.env` —Ñ–∞–π–ª
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –¥–æ—Å—Ç—É–ø–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üìà **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–±–æ—Ç—ã**

### **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
- –¢–∞–±–ª–∏—Ü–∞ `divans` —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –¥–∏–≤–∞–Ω–∞—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ

### **CSV —ç–∫—Å–ø–æ—Ä—Ç:**
- –§–∞–π–ª `divans_mcp.csv` —Å –¥–∞–Ω–Ω—ã–º–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ü–µ–Ω–∞–º –∏ —Å–∫–∏–¥–∫–∞–º
- –¢–æ–ø-5 —Å–∞–º—ã—Ö –¥–æ—Ä–æ–≥–∏—Ö –¥–∏–≤–∞–Ω–æ–≤

### **–ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥:**
```
üöÄ –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∏–≤–∞–Ω–æ–≤ —á–µ—Ä–µ–∑ MCP webscraping...
üåê URL: https://www.divan.ru/blagoveshchensk/category/divany
‚úÖ –¢–∞–±–ª–∏—Ü–∞ divans –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ
üì¶ –ù–∞–π–¥–µ–Ω–æ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∏–≤–∞–Ω–æ–≤: 2
‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö: 2 –¥–∏–≤–∞–Ω–æ–≤
‚úÖ –î–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ divans_mcp.csv
üìä –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: 2
‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω!
```

## üöÄ **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏**

1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ MCP webscraping** - –ø–æ–ª—É—á–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
2. **–ê–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ –ø–∞—Ä—Å–µ—Ä** - –∑–∞–º–µ–Ω–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ MCP –¥–∞–Ω–Ω—ã–µ
3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ–ª–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥** - –ø–æ–ª—É—á–∏—Ç–µ –≤—Å–µ 1365 –¥–∏–≤–∞–Ω–æ–≤ —Å —Å–∞–π—Ç–∞
4. **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ CSV –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

## üí° **–°–æ–≤–µ—Ç—ã –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**

- **–ü–∞–≥–∏–Ω–∞—Ü–∏—è**: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ –æ—á–µ—Ä–µ–¥–∏
- **–ó–∞–¥–µ—Ä–∂–∫–∏**: –î–æ–±–∞–≤—å—Ç–µ –ø–∞—É–∑—ã –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –†–µ–∞–ª–∏–∑—É–π—Ç–µ retry –º–µ—Ö–∞–Ω–∏–∑–º
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í–µ–¥–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞

---

**üéØ –¶–µ–ª—å: –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ –¥–∏–≤–∞–Ω–æ–≤ —Å divan.ru —á–µ—Ä–µ–∑ MCP webscraping!**
